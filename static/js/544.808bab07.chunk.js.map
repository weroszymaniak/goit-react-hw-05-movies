{"version":3,"file":"static/js/544.808bab07.chunk.js","mappings":"8SAEAA,EAAAA,EAAAA,SAAAA,QAAyB,gCAEzB,IAAMC,EAAO,mCAEAC,EAAmB,mCAAG,oGACVF,EAAAA,EAAAA,IAAA,qCAAwCC,IAD9B,cAC3BE,EAD2B,yBAE1BA,EAASC,KAAKC,SAFY,2CAAH,qDAKnBC,EAAgB,mCAAG,WAAMC,GAAN,uFACPP,EAAAA,EAAAA,IAAA,gBAAmBO,EAAnB,oBAAiCN,IAD1B,cACxBE,EADwB,yBAEvBA,EAASC,MAFc,2CAAH,sDAKhBI,EAAU,mCAAG,WAAMC,GAAN,uFACDT,EAAAA,EAAAA,IAAA,+BACGC,EADH,4DAC8DQ,IAF7D,cAClBN,EADkB,yBAIjBA,EAASC,KAAKC,SAJG,2CAAH,sDAOVK,EAAS,mCAAG,WAAMH,GAAN,uFACAP,EAAAA,EAAAA,IAAA,gBACZO,EADY,4BACUN,EADV,oBADA,cACjBE,EADiB,yBAIhBA,EAASC,KAAKO,MAJE,2CAAH,sDAOTC,EAAY,mCAAG,WAAML,GAAN,uFACHP,EAAAA,EAAAA,IAAA,gBACZO,EADY,4BACUN,EADV,2BADG,cACpBE,EADoB,yBAInBA,EAASC,KAAKC,SAJK,2CAAH,qD,uFCQzB,UAjCa,WACX,OAA4BQ,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KAsBA,OApBAC,EAAAA,EAAAA,YAAU,YACkB,WACxB,IACED,GAAW,GACPH,EAAOK,OAAS,KAClBjB,EAAAA,EAAAA,MAAsBkB,MAAK,SAAAC,GACzBN,EAAUM,EACX,IAEHC,QAAQC,IAAIT,EAMb,CALC,SACAQ,QAAQC,IAAI,SACZC,MAAM,+CACP,CAXD,QAYEP,GAAW,EACZ,CACF,CACDQ,EACD,GAAE,CAACX,KAGF,6BACE,4CACA,SAAC,IAAD,CAAgBA,OAAQA,IACvBE,IAAW,SAAC,IAAD,MAGjB,C,kFCnCD,EAAuB,6BAAvB,EAA2D,6BAA3D,EAA+F,6B,SCqC/F,EAhCuB,SAAC,GAAgB,IAAdF,EAAa,EAAbA,OAGlBY,GAAWC,EAAAA,EAAAA,MAEjB,OACE,eAAIC,UAAWC,EAAf,SACGf,GACCA,EAAOgB,KAAI,SAAAC,GAAK,OACd,eAAIH,UAAWC,EAAf,UACE,SAAC,KAAD,CACEG,GAAE,kBAAaD,EAAMxB,IACrB0B,MAAO,CAAEC,KAAMR,GACfE,UAAWC,EAHb,SAKGE,EAAMI,SANmBJ,EAAMxB,GADtB,KAavB,C","sources":["api/api.js","pages/Home/Home.jsx","webpack://react-homework-template/./src/pages/TrendingMovies/TrendingMovies.module.css?49a4","pages/TrendingMovies/TrendingMovies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst API_KEY = `b45693f974135662667746d6804bf1da`;\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n};\n\nexport const fetchMoveDetails = async id => {\n  const response = await axios.get(`movie/${id}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchQuery = async query => {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  );\n  return response.data.results;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchReviews = async id => {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n","import React, { useEffect, useState } from 'react';\nimport TrendingMovies from 'pages/TrendingMovies/TrendingMovies';\nimport { fetchTrendingMovies } from 'api/api';\nimport Loader from 'components/Loader/Loader';\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchTrendingList = () => {\n      try {\n        setLoading(true);\n        if (movies.length < 20) {\n          fetchTrendingMovies().then(trendingMovies => {\n            setMovies(trendingMovies);\n          });\n        }\n        console.log(movies);\n      } catch {\n        console.log('error');\n        alert('An error occurred while fetching the movies.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTrendingList();\n  }, [movies]);\n\n  return (\n    <main>\n      <h1>Trending today</h1>\n      <TrendingMovies movies={movies} />\n      {loading && <Loader />}\n    </main>\n  );\n};\n\nexport default Home;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"TrendingMovies_list__YZ7Kh\",\"item\":\"TrendingMovies_item__7lFdo\",\"link\":\"TrendingMovies_link__Te2Lf\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport css from './TrendingMovies.module.css';\n\nconst TrendingMovies = ({ movies }) => {\n  // tworzy listę trending w home korzystając z obiektu movies z api\n\n  const location = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {movies &&\n        movies.map(movie => (\n          <li className={css.item} key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.link}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nTrendingMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n\nexport default TrendingMovies;\n"],"names":["axios","API_KEY","fetchTrendingMovies","response","data","results","fetchMoveDetails","id","fetchQuery","query","fetchCast","cast","fetchReviews","useState","movies","setMovies","loading","setLoading","useEffect","length","then","trendingMovies","console","log","alert","fetchTrendingList","location","useLocation","className","css","map","movie","to","state","from","title"],"sourceRoot":""}